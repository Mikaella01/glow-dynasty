<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Glow Dynasty - Skin Quiz</title>
<link rel="stylesheet" href="style.css">
<style>
/* ===========================
   Quiz Page Specific Styles
=========================== */
.quiz-container {
  max-width: 900px;
  margin: 2rem auto;
  padding: 0 1rem;
}

.question-section {
  margin-bottom: 2rem;
}

.question {
  font-size: 1.6rem;
  margin-bottom: 1rem;
  color: #b86b5c;
  text-align: center;
}

.options {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 1rem;
  justify-items: center;
}

.option-card {
  background: #fff;
  border: 1px solid #eee;
  border-radius: 12px;
  padding: 1rem;
  cursor: pointer;
  text-align: center;
  transition: all 0.3s;
}

.option-card:hover {
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  transform: translateY(-3px);
  border-color: #b86b5c;
}

.option-card.selected {
  border: 2px solid #b86b5c;
}

.option-card img {
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 12px;
  margin-bottom: 8px;
}

.confirm-btn {
  display: none;
  margin: 1rem auto 0;
  padding: 10px 20px;
  background: #b86b5c;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
  transition: background 0.3s;
}

.confirm-btn:hover {
  background: #a0554a;
}

.results {
  margin-top: 2rem;
  text-align: center;
}

.product-card {
  background: #fff;
  padding: 1rem;
  border-radius: 12px;
  margin: 1rem auto;
  max-width: 250px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.restart-btn {
  padding: 10px 20px;
  margin-top: 1rem;
  background: #b86b5c;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
}

.restart-btn:hover {
  background: #a0554a;
}

/* Popup */
.popup {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.5);
  justify-content: center;
  align-items: center;
  padding: 1rem;
  z-index: 999;
}

.popup > div {
  background: #f8f9fa;
  padding: 1.5rem;
  border-radius: 12px;
  max-width: 700px;
  width: 100%;
}

.popup-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
  gap: 1rem;
}

.popup-grid div {
  background:#fff;
  border:1px solid #eee;
  border-radius:10px;
  padding:12px;
}
</style>
</head>
<body>

<nav>
  <a href="index.html" class="logo">Glow Dynasty</a>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="shop.html">Shop</a></li>
    <li><a href="blog.html">Glow Journal</a></li>
    <li><a href="quiz.html">Skin Quiz</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
</nav>

<div class="quiz-container">

  <!-- Question 1 -->
  <div class="question-section" id="q1">
    <div class="question">1. What is your main skin concern?</div>
    <div style="text-align:right; margin-bottom:8px;">
      <button id="advice-btn" class="confirm-btn" style="background:#fff;color:#b86b5c;border:1px solid #eee;padding:8px 10px;">Need advice</button>
    </div>
    <div class="options" id="options-q1">
      <div class="option-card" data-value="texture"><h4>Skin texture / dullness</h4></div>
      <div class="option-card" data-value="wrinkles"><h4>Wrinkles & fine lines</h4></div>
      <div class="option-card" data-value="active-acne"><h4>Active acne breakout</h4></div>
      <div class="option-card" data-value="prevent-acne"><h4>Help prevent new acne</h4></div>
      <div class="option-card" data-value="dry"><h4>Dry skin</h4></div>
      <div class="option-card" data-value="dark-spots"><h4>Dark spots</h4></div>
      <div class="option-card" data-value="dark-circles"><h4>Dark circles & puffiness</h4></div>
      <div class="option-card" data-value="post-acne"><h4>Post acne marks</h4></div>
      <div class="option-card" data-value="general"><h4>General skin care routine</h4></div>
      <div class="option-card" data-value="prefer-not"><h4>Prefer not to answer</h4></div>
    </div>
    <button class="confirm-btn" id="confirm-btn1">Confirm</button>
  </div>

  <!-- Question 2 -->
  <div class="question-section" id="q2" style="display:none;">
    <div class="question">2. How does your skin typically feel?</div>
    <div class="options" id="options-q2">
      <div class="option-card" data-value="dry"><h4>Dry</h4></div>
      <div class="option-card" data-value="oily"><h4>Oily</h4></div>
      <div class="option-card" data-value="combination"><h4>Combination</h4></div>
      <div class="option-card" data-value="normal"><h4>Normal / Balanced</h4></div>
    </div>
    <button class="confirm-btn" id="confirm-btn2">Confirm</button>
  </div>

  <!-- Question 3 -->
  <div class="question-section" id="q3" style="display:none;">
    <div class="question">3. Is your skin sensitive?</div>
    <div class="options" id="options-q3">
      <div class="option-card" data-value="yes"><h4>Yes</h4></div>
      <div class="option-card" data-value="no"><h4>No</h4></div>
      <div class="option-card" data-value="a-little"><h4>A little</h4></div>
    </div>
    <button class="confirm-btn" id="confirm-btn3">Confirm</button>
  </div>

  <!-- Question 4 -->
  <div class="question-section" id="q4" style="display:none;">
    <div class="question">4. How often do you experience breakouts?</div>
    <div class="options" id="options-q4">
      <div class="option-card" data-value="frequent"><h4>Frequent</h4></div>
      <div class="option-card" data-value="sometimes"><h4>Sometimes</h4></div>
      <div class="option-card" data-value="rarely"><h4>Rarely</h4></div>
      <div class="option-card" data-value="never"><h4>Never</h4></div>
    </div>
    <button class="confirm-btn" id="confirm-btn4">Confirm</button>
  </div>

  <!-- Question 5 -->
  <div class="question-section" id="q5" style="display:none;">
    <div class="question">5. Are you concerned about aging / wrinkles?</div>
    <div class="options" id="options-q5">
      <div class="option-card" data-value="yes"><h4>Yes</h4></div>
      <div class="option-card" data-value="no"><h4>No</h4></div>
      <div class="option-card" data-value="a-little"><h4>A little</h4></div>
    </div>
    <button class="confirm-btn" id="confirm-btn5">Confirm</button>
  </div>

  <!-- Results Section -->
  <div id="results" class="results" style="display:none;"></div>
</div>

<!-- Advice Popup -->
<div class="popup" id="advice-popup" aria-hidden="true">
  <div>
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h3 style="margin:0; color:#b86b5c;">Skin Concerns Explained</h3>
      <button onclick="closeAdvice()" style="background:none;border:none;font-size:22px;cursor:pointer;">&times;</button>
    </div>
    <div class="popup-grid" id="advice-grid" style="margin-top:14px;"></div>
    <div style="text-align:center; margin-top:14px;">
      <button onclick="closeAdvice()" class="confirm-btn">Close</button>
    </div>
  </div>
</div>

<script>
// =====================
// Quiz & Advice Logic
// =====================
document.addEventListener("DOMContentLoaded", ()=> {
  const adviceData = {
    "texture": {title:"Skin texture / dullness", text:"Uneven skin and rough patches. Try mild exfoliation + hydrating formulas.", img:"https://picsum.photos/120/120?random=10"},
    "wrinkles": {title:"Wrinkles & fine lines", text:"Look for retinol/peptides and consistent hydration + SPF.", img:"https://picsum.photos/120/120?random=11"},
    "active-acne": {title:"Active acne breakout", text:"Salicylic acid, benzoyl peroxide spot treatments, and gentle cleansing help.", img:"https://picsum.photos/120/120?random=12"},
    "prevent-acne": {title:"Prevent acne", text:"Oil-free hydration, non-comedogenic products, and consistent routine are key.", img:"https://picsum.photos/120/120?random=13"},
    "dry": {title:"Dry skin", text:"Use humectants (hyaluronic acid) + occlusives (cream/mask) and avoid harsh cleansing.", img:"https://picsum.photos/120/120?random=14"},
    "dark-spots": {title:"Dark spots", text:"Vitamin C and brightening ingredients plus daily SPF reduce hyperpigmentation.", img:"https://picsum.photos/120/120?random=15"},
    "dark-circles": {title:"Dark circles & puffiness", text:"Eye creams with caffeine, cooling masks, and adequate sleep help.", img:"https://picsum.photos/120/120?random=16"},
    "post-acne": {title:"Post acne marks", text:"Niacinamide and gentle exfoliation can fade post-acne pigmentation.", img:"https://picsum.photos/120/120?random=17"},
    "general": {title:"General skincare", text:"A basic routine: gentle cleanser, moisturizer, SPF. Add targeted actives as needed.", img:"https://picsum.photos/120/120?random=18"},
    "prefer-not": {title:"Prefer not to answer", text:"No worries â€” try the basics and consult a dermatologist for personalized guidance.", img:"https://picsum.photos/120/120?random=19"}
  };

  // Populate advice popup
  const adviceGrid = document.getElementById('advice-grid');
  for (const key in adviceData) {
    const card = document.createElement('div');
    card.innerHTML = `<img src="${adviceData[key].img}" style="width:100%;border-radius:10px;margin-bottom:8px;"><h4 style="color:#b86b5c;margin:0 0 6px 0;">${adviceData[key].title}</h4><p style="color:#555;margin:0;font-size:0.95rem;">${adviceData[key].text}</p>`;
    adviceGrid.appendChild(card);
  }

  // Show/Hide advice popup
  document.getElementById('advice-btn').addEventListener('click', ()=> {
    document.getElementById('advice-popup').style.display = 'flex';
    document.getElementById('advice-popup').setAttribute('aria-hidden','false');
  });
  window.closeAdvice = ()=> {
    document.getElementById('advice-popup').style.display = 'none';
    document.getElementById('advice-popup').setAttribute('aria-hidden','true');
  };

  // Quiz logic
  const answers = {};
  const totalQuestions = 5;
  for(let i=1;i<=totalQuestions;i++){
    const qId = `q${i}`;
    const confirmId = `confirm-btn${i}`;
    const container = document.getElementById(qId);
    const options = container.querySelectorAll('.option-card');
    const confirmBtn = document.getElementById(confirmId);
    let selected = null;
    options.forEach(opt=>{
      opt.addEventListener('click',()=>{
        options.forEach(o=>o.classList.remove('selected'));
        opt.classList.add('selected');
        selected = opt.dataset.value;
        confirmBtn.style.display='inline-block';
      });
    });
    confirmBtn.addEventListener('click',()=>{
      if(!selected) return;
      answers[qId]=selected;
      container.style.display='none';
      const next = document.getElementById(`q${i+1}`);
      if(next) next.style.display='block';
      else showResults();
    });
  }

  function showResults(){
    const results = document.getElementById('results');
    results.style.display='block';
    results.innerHTML = '<h2 style="color:#b86b5c;">Your Skincare Recommendations</h2>';
    const sampleProducts = [
      {name:"Radiance Cream", img:"https://picsum.photos/150/150?random=30", link:"shop.html"},
      {name:"Glow Balance Serum", img:"https://picsum.photos/150/150?random=31", link:"shop.html"},
      {name:"Blemish Spot Treatment", img:"https://picsum.photos/150/150?random=32", link:"shop.html"}
    ];
    sampleProducts.forEach(p=>{
      const card = document.createElement('div');
      card.className='product-card';
      card.innerHTML = `<img src="${p.img}" alt="${p.name}"><h3>${p.name}</h3><a href="${p.link}">Shop Now</a>`;
      results.appendChild(card);
    });
    const restart = document.createElement('button');
    restart.className='restart-btn';
    restart.textContent='Restart Quiz';
    restart.onclick=restartQuiz;
    results.appendChild(restart);
    results.scrollIntoView({behavior:'smooth'});
  }

  window.restartQuiz = function(){
    document.querySelectorAll('.question-section').forEach(q=> q.style.display='none');
    document.getElementById('q1').style.display='block';
    document.getElementById('results').style.display='none';
    document.querySelectorAll('.option-card').forEach(o=> o.classList.remove('selected'));
    document.querySelectorAll('.confirm-btn').forEach(b=> b.style.display='none');
  };
});
</script>
</body>
</html>
